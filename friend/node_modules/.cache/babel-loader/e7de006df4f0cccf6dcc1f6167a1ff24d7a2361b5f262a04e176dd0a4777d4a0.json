{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"Person\",\n  data() {\n    return {\n      user_form: {},\n      disabledEdit: true\n    };\n  },\n  created() {\n    let str = sessionStorage.getItem(\"user\") || \"{}\";\n    this.user_form = JSON.parse(str);\n  },\n  methods: {\n    editPersonInfo() {\n      this.disabledEdit = false;\n    },\n    closeEdit() {\n      this.disabledEdit = true;\n    },\n    savePersonInfo() {\n      this.$confirm('Do you really want to save your edited personal information?', 'TIP', {\n        confirmButtonText: 'Confirm',\n        cancelButtonText: 'Cancel',\n        type: 'warning'\n      }).then(() => {\n        axios.post('https://wg82363444.goho.co/user/updateUser', this.user_form).then(res => {\n          const data = res.data;\n          if (data.code == '0') {\n            this.$message({\n              type: 'success',\n              message: 'Successfully edit your personal information!'\n            });\n          } else {\n            this.$message({\n              type: 'danger',\n              message: 'fail to edit!'\n            });\n          }\n        }).catch(error => {\n          this.$message({\n            type: 'danger',\n            message: 'fail to edit!'\n          });\n        });\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: 'Cancel the edited information!'\n        });\n      });\n    },\n    cancelPersonInfo() {\n      this.$confirm('Do you really want to cancel your edited personal information?', 'TIP', {\n        confirmButtonText: 'Confirm',\n        cancelButtonText: 'Cancel',\n        type: 'warning'\n      }).then(() => {\n        axios.post(`https://wg82363444.goho.co/user/deleteUserByAccount/${this.user_form.userAccount}`).then(res => {\n          if (res.data.code == '0') {\n            this.$message({\n              type: \"success\",\n              message: `Good bye ${this.user_form.userAccount}, thanks for your coming! Wish you a good day!`\n            });\n            sessionStorage.setItem(\"user\", JSON.stringify(null));\n            this.$router.push('/login');\n          } else {\n            this.$message({\n              type: \"info\",\n              message: 'Sorry,fail to cancel your personal information!'\n            });\n          }\n        });\n      }).catch(() => {\n        this.$message({\n          type: \"info\",\n          message: 'Terminate your account cancellation!'\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","user_form","disabledEdit","created","str","sessionStorage","getItem","JSON","parse","methods","editPersonInfo","closeEdit","savePersonInfo","$confirm","confirmButtonText","cancelButtonText","type","then","post","res","code","$message","message","catch","error","cancelPersonInfo","userAccount","setItem","stringify","$router","push"],"sources":["src/views/Person.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <span style=\"font-size: 40px;color:blue;text-align: center;line-height: 80px;\">{{this.user_form.userAccount}}'s\r\n      PERSONAL INFORMATION</span>\r\n    <el-card style=\"width: 100%; margin-left: 5px;margin-top: 10px;margin-right: 30px;\">\r\n      <el-form ref=\"form\" :model=\"user_form\" label-width=\"150px\">\r\n        <el-form-item label=\"USER ACCOUNT\">\r\n          <el-tooltip class=\"item\" effect=\"dark\" :visible-arrow=\"false\" :open-delay=\"100\"\r\n            content=\"You know you cannot change your user account!Oops!\" placement=\"top-start\">\r\n            <el-input v-model=\"user_form.userAccount\" disabled></el-input>\r\n          </el-tooltip>\r\n        </el-form-item>\r\n        <el-form-item label=\"USER PASSWORD\">\r\n          <el-input v-model=\"user_form.userPassword\" :disabled=\"disabledEdit\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"USER EMAIL\">\r\n          <el-input v-model=\"user_form.userEmail\" :disabled=\"disabledEdit\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"USER ROLE\">\r\n          <el-input v-model=\"user_form.userRole\" :disabled=\"disabledEdit\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div style=\"text-align: center\">\r\n        <el-button type=\"primary\" @click=\"editPersonInfo\">EDIT YOUR INFORMATION</el-button>\r\n        <el-button type=\"primary\" @click=\"closeEdit\">CLOSE EDIT</el-button>\r\n        <el-button type=\"info\" @click=\"savePersonInfo\">SAVE YOUR EDITED INFORMATION</el-button>\r\n        <el-button type=\"danger\" @click=\"cancelPersonInfo\">CANCEL YOUR INFORMATION</el-button>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from \"axios\";\r\n\r\n  export default {\r\n    name: \"Person\",\r\n    data() {\r\n      return {\r\n        user_form: {},\r\n        disabledEdit: true\r\n      }\r\n    },\r\n    created() {\r\n      let str = sessionStorage.getItem(\"user\") || \"{}\"\r\n      this.user_form = JSON.parse(str)\r\n    },\r\n    methods: {\r\n      editPersonInfo() {\r\n        this.disabledEdit = false\r\n      },\r\n      closeEdit() {\r\n        this.disabledEdit = true\r\n      },\r\n      savePersonInfo() {\r\n        this.$confirm('Do you really want to save your edited personal information?', 'TIP', {\r\n          confirmButtonText: 'Confirm',\r\n          cancelButtonText: 'Cancel',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          axios.post('https://wg82363444.goho.co/user/updateUser', this.user_form).then(res => {\r\n            const data = res.data\r\n            if (data.code == '0') {\r\n              this.$message({\r\n                type: 'success',\r\n                message: 'Successfully edit your personal information!'\r\n              })\r\n            } else {\r\n              this.$message({\r\n                type: 'danger',\r\n                message: 'fail to edit!'\r\n              })\r\n            }\r\n          }).catch(error => {\r\n            this.$message({\r\n              type: 'danger',\r\n              message: 'fail to edit!'\r\n            })\r\n          })\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: 'Cancel the edited information!'\r\n          })\r\n        })\r\n      },\r\n      cancelPersonInfo() {\r\n        this.$confirm('Do you really want to cancel your edited personal information?', 'TIP', {\r\n          confirmButtonText: 'Confirm',\r\n          cancelButtonText: 'Cancel',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          axios.post(`https://wg82363444.goho.co/user/deleteUserByAccount/${this.user_form.userAccount}`).then(res => {\r\n            if (res.data.code == '0') {\r\n              this.$message({\r\n                type: \"success\",\r\n                message: `Good bye ${this.user_form.userAccount}, thanks for your coming! Wish you a good day!`\r\n              })\r\n              sessionStorage.setItem(\"user\", JSON.stringify(null))\r\n              this.$router.push('/login')\r\n            } else {\r\n              this.$message({\r\n                type: \"info\",\r\n                message: 'Sorry,fail to cancel your personal information!'\r\n              })\r\n            }\r\n          })\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: 'Terminate your account cancellation!'\r\n          })\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n"],"mappings":";AAiCA,OAAAA,KAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,YAAA;IACA;EACA;EACAC,QAAA;IACA,IAAAC,GAAA,GAAAC,cAAA,CAAAC,OAAA;IACA,KAAAL,SAAA,GAAAM,IAAA,CAAAC,KAAA,CAAAJ,GAAA;EACA;EACAK,OAAA;IACAC,eAAA;MACA,KAAAR,YAAA;IACA;IACAS,UAAA;MACA,KAAAT,YAAA;IACA;IACAU,eAAA;MACA,KAAAC,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GAAAC,IAAA;QACAnB,KAAA,CAAAoB,IAAA,oDAAAjB,SAAA,EAAAgB,IAAA,CAAAE,GAAA;UACA,MAAAnB,IAAA,GAAAmB,GAAA,CAAAnB,IAAA;UACA,IAAAA,IAAA,CAAAoB,IAAA;YACA,KAAAC,QAAA;cACAL,IAAA;cACAM,OAAA;YACA;UACA;YACA,KAAAD,QAAA;cACAL,IAAA;cACAM,OAAA;YACA;UACA;QACA,GAAAC,KAAA,CAAAC,KAAA;UACA,KAAAH,QAAA;YACAL,IAAA;YACAM,OAAA;UACA;QACA;MACA,GAAAC,KAAA;QACA,KAAAF,QAAA;UACAL,IAAA;UACAM,OAAA;QACA;MACA;IACA;IACAG,iBAAA;MACA,KAAAZ,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GAAAC,IAAA;QACAnB,KAAA,CAAAoB,IAAA,6DAAAjB,SAAA,CAAAyB,WAAA,IAAAT,IAAA,CAAAE,GAAA;UACA,IAAAA,GAAA,CAAAnB,IAAA,CAAAoB,IAAA;YACA,KAAAC,QAAA;cACAL,IAAA;cACAM,OAAA,mBAAArB,SAAA,CAAAyB,WAAA;YACA;YACArB,cAAA,CAAAsB,OAAA,SAAApB,IAAA,CAAAqB,SAAA;YACA,KAAAC,OAAA,CAAAC,IAAA;UACA;YACA,KAAAT,QAAA;cACAL,IAAA;cACAM,OAAA;YACA;UACA;QACA;MACA,GAAAC,KAAA;QACA,KAAAF,QAAA;UACAL,IAAA;UACAM,OAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}